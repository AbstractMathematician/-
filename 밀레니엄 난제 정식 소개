<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>증명 발표 — 발표 페이지</title>
  <meta name="description" content="증명(Proof) 발표 및 관련 자료를 공개하는 페이지" />
  <style>
    :root{--accent:#0066cc;--bg:#0f1720;--card:#0b1220;--glass:rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,"Apple SD Gothic Neo",sans-serif;margin:0;background:linear-gradient(180deg,#071024 0%, #07152a 100%);color:#e6eef8;line-height:1.5}
    .container{max-width:980px;margin:40px auto;padding:24px}
    header{display:flex;gap:16px;align-items:center}
    .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#0051a8);display:flex;align-items:center;justify-content:center;font-weight:700;color:white;font-size:22px}
    h1{margin:0;font-size:26px}
    p.lead{margin:6px 0 18px;color:#cfe6ff}
    main{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:18px}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 24px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    .content .meta{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;font-weight:600}
    .small{font-size:13px;color:#9fb7d9}
    .tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:var(--glass);padding:6px 8px;border-radius:8px;font-size:13px;color:#cfe6ff}
    .sidebar h3{margin-top:0}
    .file-list{list-style:none;padding:0;margin:0}
    .file-list li{padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .editor{width:100%;min-height:220px;background:#071326;border-radius:8px;padding:12px;color:#d7e9ff;border:1px solid rgba(255,255,255,0.02);resize:vertical}
    footer{margin-top:30px;color:#9fb7d9;text-align:center;font-size:13px}
    @media (max-width:980px){main{grid-template-columns:1fr} .sidebar{order:-1}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">PRF</div>
      <div>
        <h1>증명 발표 페이지</h1>
        <p class="lead">여기에 당신의 증명(Proof) 설명, PDF, 데이터와 연락처를 올려 누구나 볼 수 있게 공개합니다.</p>
      </div>
    </header>

    <main>
      <section class="content card">
        <div class="meta">
          <div class="tags">
            <span class="tag">수학</span>
            <span class="tag">호지 추측</span>
            <span class="tag">논문</span>
          </div>
          <div style="margin-left:auto" class="small">마지막 수정: <span id="lastMod">--</span></div>
        </div>

        <h2 id="title">증명의 제목을 여기에 입력하세요</h2>
        <p id="abstract" class="small">간단한 요약(abstract)을 여기에 적습니다. 최대 2~3문장으로 핵심 아이디어와 결과를 적어주세요.</p>

        <div style="margin-top:14px">
          <a id="pdfLink" class="btn" href="#" download>PDF 다운로드</a>
          <button id="viewBtn" class="btn" style="background:#004b8d;margin-left:8px">본문 보기</button>
        </div>

        <hr style="margin:18px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

        <h3>본문 (공개 영역)</h3>
        <div id="bodyText" style="white-space:pre-wrap;color:#d7e9ff;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:12px;border-radius:8px;min-height:160px">여기에 증명의 개요 또는 주요 정리, 정의, 증명 스케치 등을 넣으세요. 긴 수식은 LaTeX로 작성하고, 필요하면 PDF를 첨부하세요.</div>

        <hr style="margin:18px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

        <h3>증명 목록 (DOI)</h3>
        <p class="small">아래는 업로드하신 증명 문서들입니다. 각 항목을 클릭하면 Zenodo에 올라간 DOI 페이지로 이동합니다.</p>
        <ul class="file-list" style="margin-bottom:12px">
          <li style="padding:8px 0"><strong>P vs NP</strong><br/><a href="https://doi.org/10.5281/zenodo.16757677" target="_blank">https://doi.org/10.5281/zenodo.16757677</a></li>
          <li style="padding:8px 0"><strong>호지 추측</strong><br/><a href="https://doi.org/10.5281/zenodo.16787566" target="_blank">https://doi.org/10.5281/zenodo.16787566</a></li>
          <li style="padding:8px 0"><strong>양밀스 질량 간극 가설 증명</strong><br/><a href="https://doi.org/10.5281/zenodo.16788549" target="_blank">https://doi.org/10.5281/zenodo.16788549</a></li>
          <li style="padding:8px 0"><strong>나비에-스토크스 방정식 해 존재와 매끄러움 증명</strong><br/><a href="https://doi.org/10.5281/zenodo.16791748" target="_blank">https://doi.org/10.5281/zenodo.16791748</a></li>
          <li style="padding:8px 0"><strong>버치-스위너톤 다이어 추측</strong><br/><a href="https://doi.org/10.5281/zenodo.16809419" target="_blank">https://doi.org/10.5281/zenodo.16809419</a></li>
          <li style="padding:8px 0"><strong>리만 가설</strong><br/><a href="https://doi.org/10.5281/zenodo.16810843" target="_blank">https://doi.org/10.5281/zenodo.16810843</a></li>
        </ul>

        <h3>댓글 / 토론</h3>
        <p class="small">이 기능은 기본 공개 데모이며, 실제 토론/댓글을 원하시면 Disqus, GitHub Discussions, 또는 포럼 연동을 권장합니다.</p>
      </section>

      <aside class="sidebar card">
        <h3>관리자 도구</h3>
        <p class="small">이 페이지는 간단한 클라이언트 편집 기능을 제공합니다. 올린 내용은 브라우저 로컬 스토리지에만 저장됩니다. 공개하려면 index.html 파일을 웹호스팅에 업로드하세요.</p>

        <label class="small">제목</label>
        <input id="inpTitle" class="editor" style="height:42px" placeholder="증명 제목을 입력하세요" />

        <label class="small">요약 (abstract)</label>
        <textarea id="inpAbstract" class="editor" style="height:80px" placeholder="간단한 요약"></textarea>

        <label class="small">본문(공개)</label>
        <textarea id="inpBody" class="editor" placeholder="증명 개요, 주요 정리, 스케치 등을 입력하세요"></textarea>

        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="saveBtn" class="btn">저장 (로컬)</button>
          <button id="resetBtn" class="btn" style="background:#8b1e3f">초기화</button>
        </div>

        <hr style="margin:14px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

        <h3>파일 업로드</h3>
        <p class="small">공개용 PDF를 업로드하려면 아래에서 파일을 선택하고, 생성된 링크를 복사하세요. (이 기능은 클라이언트 사이드: 업로드한 파일은 브라우저에만 저장됩니다.)</p>
        <input id="fileInput" type="file" accept="application/pdf" />
        <ul id="files" class="file-list"></ul>

        <hr style="margin:14px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

        <h3>호스팅 안내</h3>
        <p class="small">파일을 공개하려면 <strong>GitHub Pages</strong>, <strong>Netlify</strong>, 또는 <strong>Vercel</strong> 같은 정적 호스팅에 이 index.html을 업로드하세요. 업로드하면 생성된 URL로 누구나 접속 가능합니다.</p>
      </aside>
    </main>

    <footer>
      이 페이지 템플릿은 공개 배포용입니다. 추가 기능(도메인 연결, PDF 서버 업로드, 댓글 연동, 접근 제어 등)이 필요하면 도와드릴게요.
    </footer>
  </div>

  <script>
    // 간단한 로컬 편집/파일 미리보기 기능
    const inpTitle = document.getElementById('inpTitle');
    const inpAbstract = document.getElementById('inpAbstract');
    const inpBody = document.getElementById('inpBody');
    const saveBtn = document.getElementById('saveBtn');
    const resetBtn = document.getElementById('resetBtn');
    const titleEl = document.getElementById('title');
    const absEl = document.getElementById('abstract');
    const bodyEl = document.getElementById('bodyText');
    const lastMod = document.getElementById('lastMod');
    const fileInput = document.getElementById('fileInput');
    const filesList = document.getElementById('files');
    const pdfLink = document.getElementById('pdfLink');

    function setNow(){ lastMod.textContent = new Date().toLocaleString(); }
    function load(){
      const data = JSON.parse(localStorage.getItem('proof_page')||'{}');
      if(data.title) inpTitle.value = data.title, titleEl.textContent = data.title;
      if(data.abstract) inpAbstract.value = data.abstract, absEl.textContent = data.abstract;
      if(data.body) inpBody.value = data.body, bodyEl.textContent = data.body;
      if(data.files) renderFiles(data.files);
      if(data.updated) lastMod.textContent = new Date(data.updated).toLocaleString();
    }
    function save(){
      const data = {title:inpTitle.value, abstract:inpAbstract.value, body:inpBody.value, updated:Date.now(), files:JSON.parse(localStorage.getItem('proof_files')||'[]')};
      localStorage.setItem('proof_page', JSON.stringify(data));
      titleEl.textContent = data.title||'증명의 제목을 여기에 입력하세요';
      absEl.textContent = data.abstract||'간단한 요약(abstract)을 여기에 적습니다.';
      bodyEl.textContent = data.body||'여기에 증명의 개요 또는 주요 정리, 정의, 증명 스케치 등을 넣으세요.';
      setNow();
      alert('저장되었습니다 (로컬). 웹에 공개하려면 index.html 파일을 업로드하세요.');
    }
    saveBtn.addEventListener('click', save);
    resetBtn.addEventListener('click', ()=>{if(confirm('정말 초기화합니까? 모든 로컬 데이터가 삭제됩니다.')){localStorage.removeItem('proof_page');localStorage.removeItem('proof_files');location.reload();}});

    fileInput.addEventListener('change', async (e)=>{
      const f = e.target.files[0];
      if(!f) return;
      if(f.type!=='application/pdf'){alert('PDF 파일만 업로드하세요.');return}
      const arr = JSON.parse(localStorage.getItem('proof_files')||'[]');
      const dataUrl = await readFileAsDataURL(f);
      arr.push({name:f.name,dataUrl,ts:Date.now()});
      localStorage.setItem('proof_files', JSON.stringify(arr));
      renderFiles(arr);
      alert('파일이 브라우저에 저장되었습니다. 공개하려면 실제 호스팅 서버에 업로드하세요.');
    });
    function readFileAsDataURL(file){return new Promise((res,rej)=>{const r=new FileReader();r.onload=()=>res(r.result);r.onerror=rej;r.readAsDataURL(file);});}
    function renderFiles(arr){filesList.innerHTML='';arr.forEach((f,i)=>{const li=document.createElement('li');li.innerHTML=`<strong>${escapeHtml(f.name)}</strong> <div class="small">업로드: ${new Date(f.ts).toLocaleString()}</div><div style="margin-top:6px"><a href="${f.dataUrl}" target="_blank" class="btn" download>열람 / 다운로드</a> <button data-i="${i}" class="btn" style="background:#8b1e3f;margin-left:8px">삭제</button></div>`;filesList.appendChild(li)});
      // attach delete handlers
      filesList.querySelectorAll('button').forEach(b=>b.addEventListener('click', (ev)=>{const i=ev.target.dataset.i; const arr=JSON.parse(localStorage.getItem('proof_files')||'[]'); arr.splice(i,1); localStorage.setItem('proof_files', JSON.stringify(arr)); renderFiles(arr); }));
      const arr0 = arr[0]; if(arr0){pdfLink.href = arr0.dataUrl; pdfLink.style.display='inline-block'} else {pdfLink.href = '#'; pdfLink.style.display='none'}
    }
    function escapeHtml(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}

    // view button focuses body
    document.getElementById('viewBtn').addEventListener('click', ()=>{window.scrollTo({top:document.getElementById('bodyText').offsetTop-24,behavior:'smooth'});});

    // initial load
    load();
    setNow();
  </script>
</body>
</html>
